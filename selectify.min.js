(function(e){e.fn.selectify=function(){function t(e){e.stopPropagation();var t=e.data.selectify;var n=e.data.base;t.addClass("open").children().removeClass("hidden");t.find(".selectify-selected").addClass("hidden");n.trigger("selectify.focus")}function n(e){e.stopPropagation();var t=e.data.selectify;var n=t.text();var r=t.data("value");var i=e.data.base;var s=t.siblings(".selectify-selected");i.children().removeAttr("selected");i.find('[value="'+r+'"]').attr("selected",true);s.text(n);i.trigger("selectify-option-clicked");i.trigger("selectify.change",{elements:{select:i,selectify:t}})}function r(t){t.stopPropagation();var n=t.data.selectify.is("ul")===true?t.data.selectify:t.data.selectify.next(".selectify-container").find(".selectify-select");var r=e(t.data.base);n.removeClass("open");n.find(".selectify-option").addClass("hidden");n.find(".selectify-selected").removeClass("hidden");r.trigger("selectify.blur")}return this.each(function(){var i='				<div class="selectify-container" asg-selectbox>					<ul class="selectify-select">						<li class="selectify-selected"></li>					</ul>				</div>			';var s='				<li class="selectify-option hidden"></li>			';if(e(this).is("select")===false){return}var o=e(this);var u=o.children();o.addClass("selectify-hidden");e(i).insertAfter(o);var a=o.next(".selectify-container").find(".selectify-select");u.each(function(){var t=e(this);var n=e.trim(t.text());var r=t.val();var i=e(s).clone();i.attr("data-value",r).text(n);a.append(i);if(t.is(":selected")){i.addClass("selected");a.find(".selectify-selected").text(n)}});a.on("click.selectify",{selectify:a,base:o},t);a.on("mouseleave.close-selectify",{selectify:a,base:o},r);a.find(".selectify-option").each(function(){e(this).on("click.selectify-option",{selectify:e(this),base:o},n)});o.on("selectify-option-clicked",{selectify:e(this),base:o},r)})}})(jQuery)
