(function(e){e.fn.selectify=function(){function t(e){e.stopPropagation();var t=e.data.selectify,n=e.data.base;t.children().removeClass("hidden");t.find(".selectify-selected").addClass("hidden");n.trigger("selectify.focus")}function n(t){t.stopPropagation();var n=t.data.selectify,r=n.text(),i=n.data("value"),s=$base,o=n.siblings(".selectify-selected");s.children().removeAttr("selected");s.find('[value="'+i+'"]').attr("selected",true);o.text(r);e(document).trigger("selectify-option-clicked");s.trigger("selectify.change")}function r(t){t.stopPropagation();var n=e(t.data.selectify),n=n.is("ul")?n:n.parent(),r=e(t.data.base);n.find(".selectify-option").addClass("hidden");n.find(".selectify-selected").removeClass("hidden");n.children().off("click.selectify-option, mouseleave.close-selectify");r.trigger("selectify.blur")}return this.each(function(){var i='      <div class="selectify-container">          <ul class="selectify-select">              <li class="selectify-selected"></li>          </ul>      </div>      ';var s='          <li class="selectify-option hidden"></li>      ';$base=e(this);$base.addClass("selectify-hidden");var o=$base.closest("select").length?$base.closest("select"):$base.find("select"),u=o.children();e(i).insertAfter($base);var a=$base.siblings(".selectify-container").find(".selectify-select");if(!$base.is("select")){exit_no_stop($base)}u.each(function(){var t=e(this),n=e.trim(t.text()),r=t.val(),i=e(s).clone(),o=$base.siblings().find(".selectify-select");i.attr("data-value",r).text(n);o.append(i);if(t.is(":selected")){i.addClass("selected");o.find(".selectify-selected").text(n)}});a.on("click.selectify",{selectify:a,base:$base},t);a.on("mouseleave.close-selectify",{selectify:a,base:$base},r);a.find(".selectify-option").each(function(){e(this).on("click.selectify-option",{selectify:e(this),base:$base},n)});e(document).on("selectify-option-clicked",{selectify:e(this),base:$base},r)});}})(jQuery)
