!function(e){e.fn.selectify=function(){function s(e){e.stopPropagation();var s=e.data.selectify,t=e.data.base;s.children().removeClass("hidden"),s.find(".selectify-selected").addClass("hidden"),t.trigger("selectify.focus")}function t(s){s.stopPropagation();var t=s.data.selectify,i=t.text(),l=t.data("value"),c=$base,a=t.siblings(".selectify-selected");c.children().removeAttr("selected"),c.find('[value="'+l+'"]').attr("selected",!0),a.text(i),e(document).trigger("selectify-option-clicked"),c.trigger("selectify.change")}function i(s){s.stopPropagation();var t=e(s.data.selectify),t=t.is("ul")?t:t.parent(),i=e(s.data.base);t.find(".selectify-option").addClass("hidden"),t.find(".selectify-selected").removeClass("hidden"),t.children().off("click.selectify-option, mouseleave.close-selectify"),i.trigger("selectify.blur")}return this.each(function(){var l='      <div class="selectify-container">          <ul class="selectify-select">              <li class="selectify-selected"></li>          </ul>      </div>      ',c='          <li class="selectify-option hidden"></li>      ';$base=e(this),$base.hide();var a=$base.closest("select").length?$base.closest("select"):$base.find("select"),n=a.children();e(l).insertAfter($base);var d=$base.siblings(".selectify-container").find(".selectify-select");$base.is("select")||exit_no_stop($base),n.each(function(){var s=e(this),t=e.trim(s.text()),i=s.val(),l=e(c).clone(),a=$base.siblings().find(".selectify-select");l.attr("data-value",i).text(t),a.append(l),s.is(":selected")&&(l.addClass("selected"),a.find(".selectify-selected").text(t))}),d.on("click.selectify",{selectify:d,base:$base},s),d.on("mouseleave.close-selectify",{selectify:d,base:$base},i),d.find(".selectify-option").each(function(){e(this).on("click.selectify-option",{selectify:e(this),base:$base},t)}),e(document).on("selectify-option-clicked",{selectify:e(this),base:$base},i)})}}(jQuery);
